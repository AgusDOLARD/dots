#!/bin/bash

capacity=$(cat /sys/class/power_supply/BAT*/capacity)
status=$(cat /sys/class/power_supply/BAT*/status)

lowLevel(){
    notify-send -u critical "Battery low" "Battery level is ${capacity}%!"
    light -S 20
}

batLower(){
    if [ "$capacity" -le "$1" ] && [ "$status" = "Discharging" ]; then
        return 0
    else
        return 1
    fi
}

batLower 25 && lowLevel
# batLower 10 && lowLevel; sleep 5; systemctl suspend
[ "$capacity" -gt 99 ] && notify-send -u critical -h string:bgcolor:#b8bb26 "Battery fully charged" "Unplug it pls ðŸ˜Š"
